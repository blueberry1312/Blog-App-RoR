<%= stylesheet_link_tag 'users_index' %>
<%= stylesheet_link_tag 'users_show' %>
<%= stylesheet_link_tag 'posts_index' %>
<section class='user-section'>
    <div class='user-container user-show'>
        <%= image_tag(@user.photo, class: 'user-image') %>
        <div class='user-info'>
            <h2 class='username'><%= @user.name %></h2>
            <p class='posts-counter'>Number of posts: <%= @user.posts_counter %></p>
        </div>
    </div>

    <div class='user-posts'>
        <% @posts.each do |post| %>
            <div class='post-container'>
                <div class='title-and-link'>
                    <h3><%= post.title %></h3>
                    <%= link_to user_post_path(@user.id, post.id), class: 'view-post' do %>
                        <p>View post</p>
                    <% end %>
                </div>
                <p><%= post.text %></p>
                <div class='post-interactions'>
                    <p>
                        Comments: <%= post.comments_counter %>,
                        Likes: <%= post.likes_counter %>
                    </p>
                </div>
            </div>
            <div class='comments-container'>
                <% if post.recent_comments.any? %>
                    <% post.recent_comments.each do |comment| %>
                        <div class='comment-container'>
                        <h4><%= comment.author.name %>:&nbsp;</h4>
                        <p><%= comment.text %></p>
                        </div>
                    <% end %>
                <% else %>
                    <div class='no-comments'>
                        <p>This post has no comments.</p>
                    </div>
                <% end %>
            </div>
        <% end %>
    </div>
</section>